"use strict";var cov_1zfg5flbqk=function(){var path="C:\\Users\\AMAECHI\\Documents\\Andela\\Auto Mart\\AutoMart\\Server\\controllers\\orders.js";var hash="381f753bf38b167019d2830b537b4d1909963587";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\AMAECHI\\Documents\\Andela\\Auto Mart\\AutoMart\\Server\\controllers\\orders.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:15},end:{line:8,column:60}},"3":{start:{line:10,column:39},end:{line:10,column:95}},"4":{start:{line:12,column:50},end:{line:12,column:151}},"5":{start:{line:12,column:92},end:{line:12,column:149}},"6":{start:{line:14,column:12},end:{line:19,column:1}},"7":{start:{line:15,column:2},end:{line:15,column:31}},"8":{start:{line:17,column:2},end:{line:17,column:23}},"9":{start:{line:18,column:2},end:{line:18,column:25}},"10":{start:{line:21,column:13},end:{line:63,column:1}},"11":{start:{line:23,column:14},end:{line:28,column:5}},"12":{start:{line:30,column:4},end:{line:30,column:46}},"13":{start:{line:32,column:4},end:{line:32,column:42}},"14":{start:{line:35,column:14},end:{line:40,column:5}},"15":{start:{line:42,column:16},end:{line:44,column:6}},"16":{start:{line:43,column:6},end:{line:43,column:59}},"17":{start:{line:46,column:4},end:{line:59,column:5}},"18":{start:{line:47,column:6},end:{line:55,column:7}},"19":{start:{line:48,column:8},end:{line:48,column:50}},"20":{start:{line:49,column:8},end:{line:49,column:53}},"21":{start:{line:50,column:8},end:{line:50,column:33}},"22":{start:{line:51,column:8},end:{line:51,column:39}},"23":{start:{line:53,column:8},end:{line:53,column:25}},"24":{start:{line:54,column:8},end:{line:54,column:66}},"25":{start:{line:57,column:6},end:{line:57,column:23}},"26":{start:{line:58,column:6},end:{line:58,column:45}},"27":{start:{line:61,column:4},end:{line:61,column:42}},"28":{start:{line:64,column:15},end:{line:64,column:21}},"29":{start:{line:65,column:0},end:{line:65,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:10,column:9},end:{line:10,column:31}},loc:{start:{line:10,column:37},end:{line:10,column:97}},line:10},"1":{name:"_classCallCheck",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:48},end:{line:12,column:153}},line:12},"2":{name:"Error",decl:{start:{line:14,column:21},end:{line:14,column:26}},loc:{start:{line:14,column:44},end:{line:19,column:1}},line:14},"3":{name:"createNewOrder",decl:{start:{line:22,column:27},end:{line:22,column:41}},loc:{start:{line:22,column:52},end:{line:33,column:3}},line:22},"4":{name:"updateOrderPrice",decl:{start:{line:34,column:29},end:{line:34,column:45}},loc:{start:{line:34,column:56},end:{line:62,column:3}},line:34},"5":{name:"(anonymous_5)",decl:{start:{line:42,column:48},end:{line:42,column:49}},loc:{start:{line:42,column:65},end:{line:44,column:5}},line:42}},branchMap:{"0":{loc:{start:{line:10,column:46},end:{line:10,column:94}},type:"cond-expr",locations:[{start:{line:10,column:70},end:{line:10,column:73}},{start:{line:10,column:76},end:{line:10,column:94}}],line:10},"1":{loc:{start:{line:10,column:46},end:{line:10,column:67}},type:"binary-expr",locations:[{start:{line:10,column:46},end:{line:10,column:49}},{start:{line:10,column:53},end:{line:10,column:67}}],line:10},"2":{loc:{start:{line:12,column:50},end:{line:12,column:151}},type:"if",locations:[{start:{line:12,column:50},end:{line:12,column:151}},{start:{line:12,column:50},end:{line:12,column:151}}],line:12},"3":{loc:{start:{line:46,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:59,column:5}},{start:{line:46,column:4},end:{line:59,column:5}}],line:46},"4":{loc:{start:{line:47,column:6},end:{line:55,column:7}},type:"if",locations:[{start:{line:47,column:6},end:{line:55,column:7}},{start:{line:47,column:6},end:{line:55,column:7}}],line:47}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"381f753bf38b167019d2830b537b4d1909963587"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_1zfg5flbqk.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1zfg5flbqk.s[1]++;exports["default"]=void 0;var _storage=(cov_1zfg5flbqk.s[2]++,_interopRequireDefault(require("../storage")));function _interopRequireDefault(obj){cov_1zfg5flbqk.f[0]++;cov_1zfg5flbqk.s[3]++;return(cov_1zfg5flbqk.b[1][0]++,obj)&&(cov_1zfg5flbqk.b[1][1]++,obj.__esModule)?(cov_1zfg5flbqk.b[0][0]++,obj):(cov_1zfg5flbqk.b[0][1]++,{"default":obj});}function _classCallCheck(instance,Constructor){cov_1zfg5flbqk.f[1]++;cov_1zfg5flbqk.s[4]++;if(!(instance instanceof Constructor)){cov_1zfg5flbqk.b[2][0]++;cov_1zfg5flbqk.s[5]++;throw new TypeError("Cannot call a class as a function");}else{cov_1zfg5flbqk.b[2][1]++;}}cov_1zfg5flbqk.s[6]++;var Error=function Error(status,message){cov_1zfg5flbqk.f[2]++;cov_1zfg5flbqk.s[7]++;_classCallCheck(this,Error);cov_1zfg5flbqk.s[8]++;this.status=status;cov_1zfg5flbqk.s[9]++;this.message=message;};var orders=(cov_1zfg5flbqk.s[10]++,{createNewOrder:function createNewOrder(req,res){cov_1zfg5flbqk.f[3]++;var Res=(cov_1zfg5flbqk.s[11]++,{status:201,data:Object.assign({created_on:new Date()},req.body)});cov_1zfg5flbqk.s[12]++;_storage["default"].orders.push(Res.data);cov_1zfg5flbqk.s[13]++;res.status(Res.status).json(Res.data);},updateOrderPrice:function updateOrderPrice(req,res){cov_1zfg5flbqk.f[4]++;var Res=(cov_1zfg5flbqk.s[14]++,{status:202,data:{last_modified:new Date()}});var order=(cov_1zfg5flbqk.s[15]++,_storage["default"].orders.find(function(Order){cov_1zfg5flbqk.f[5]++;cov_1zfg5flbqk.s[16]++;return Order.id===parseInt(req.params.orderId,10);}));cov_1zfg5flbqk.s[17]++;if(order){cov_1zfg5flbqk.b[3][0]++;cov_1zfg5flbqk.s[18]++;if(order.status==='pending'){cov_1zfg5flbqk.b[4][0]++;cov_1zfg5flbqk.s[19]++;order.old_price_offer=order.price_offer;cov_1zfg5flbqk.s[20]++;order.new_price_offer=req.body.price_offer;cov_1zfg5flbqk.s[21]++;delete order.price_offer;cov_1zfg5flbqk.s[22]++;Object.assign(Res.data,order);}else{cov_1zfg5flbqk.b[4][1]++;cov_1zfg5flbqk.s[23]++;Res.status=405;cov_1zfg5flbqk.s[24]++;Res.data=new Error(405,'This order cannot be changed');}}else{cov_1zfg5flbqk.b[3][1]++;cov_1zfg5flbqk.s[25]++;Res.status=404;cov_1zfg5flbqk.s[26]++;Res.data=new Error(404,'not found');}cov_1zfg5flbqk.s[27]++;res.status(Res.status).json(Res.data);}});var _default=(cov_1zfg5flbqk.s[28]++,orders);cov_1zfg5flbqk.s[29]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVycy5qcyJdLCJuYW1lcyI6WyJFcnJvciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJvcmRlcnMiLCJjcmVhdGVOZXdPcmRlciIsInJlcSIsInJlcyIsIlJlcyIsImRhdGEiLCJPYmplY3QiLCJhc3NpZ24iLCJjcmVhdGVkX29uIiwiRGF0ZSIsImJvZHkiLCJzdG9yYWdlIiwicHVzaCIsImpzb24iLCJ1cGRhdGVPcmRlclByaWNlIiwibGFzdF9tb2RpZmllZCIsIm9yZGVyIiwiZmluZCIsIk9yZGVyIiwiaWQiLCJwYXJzZUludCIsInBhcmFtcyIsIm9yZGVySWQiLCJvbGRfcHJpY2Vfb2ZmZXIiLCJwcmljZV9vZmZlciIsIm5ld19wcmljZV9vZmZlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7SUFFTUEsSyxHQUNKLGVBQVlDLE1BQVosRUFBb0JDLE9BQXBCLEVBQTZCO0FBQUE7O0FBQzNCLE9BQUtELE1BQUwsR0FBY0EsTUFBZDtBQUNBLE9BQUtDLE9BQUwsR0FBZUEsT0FBZjtBQUNELEM7O0FBR0gsSUFBTUMsTUFBTSxHQUFHO0FBQ2JDLEVBQUFBLGNBQWMsRUFBRSx3QkFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDNUIsUUFBTUMsR0FBRyxHQUFHO0FBQ1ZOLE1BQUFBLE1BQU0sRUFBRSxHQURFO0FBRVZPLE1BQUFBLElBQUksRUFBRUMsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFBRUMsUUFBQUEsVUFBVSxFQUFFLElBQUlDLElBQUo7QUFBZCxPQUFkLEVBQTBDUCxHQUFHLENBQUNRLElBQTlDO0FBRkksS0FBWjs7QUFJQUMsd0JBQVFYLE1BQVIsQ0FBZVksSUFBZixDQUFvQlIsR0FBRyxDQUFDQyxJQUF4Qjs7QUFDQUYsSUFBQUEsR0FBRyxDQUFDTCxNQUFKLENBQVdNLEdBQUcsQ0FBQ04sTUFBZixFQUF1QmUsSUFBdkIsQ0FBNEJULEdBQUcsQ0FBQ0MsSUFBaEM7QUFDRCxHQVJZO0FBU2JTLEVBQUFBLGdCQUFnQixFQUFFLDBCQUFDWixHQUFELEVBQU1DLEdBQU4sRUFBYztBQUM5QixRQUFNQyxHQUFHLEdBQUc7QUFDVk4sTUFBQUEsTUFBTSxFQUFFLEdBREU7QUFFVk8sTUFBQUEsSUFBSSxFQUFFO0FBQUVVLFFBQUFBLGFBQWEsRUFBRSxJQUFJTixJQUFKO0FBQWpCO0FBRkksS0FBWjs7QUFJQSxRQUFNTyxLQUFLLEdBQUdMLG9CQUFRWCxNQUFSLENBQWVpQixJQUFmLENBQW9CLFVBQUFDLEtBQUs7QUFBQSxhQUFJQSxLQUFLLENBQUNDLEVBQU4sS0FBYUMsUUFBUSxDQUFDbEIsR0FBRyxDQUFDbUIsTUFBSixDQUFXQyxPQUFaLEVBQXFCLEVBQXJCLENBQXpCO0FBQUEsS0FBekIsQ0FBZDs7QUFDQSxRQUFJTixLQUFKLEVBQVc7QUFDVCxVQUFJQSxLQUFLLENBQUNsQixNQUFOLEtBQWlCLFNBQXJCLEVBQWdDO0FBQzlCa0IsUUFBQUEsS0FBSyxDQUFDTyxlQUFOLEdBQXdCUCxLQUFLLENBQUNRLFdBQTlCO0FBQ0FSLFFBQUFBLEtBQUssQ0FBQ1MsZUFBTixHQUF3QnZCLEdBQUcsQ0FBQ1EsSUFBSixDQUFTYyxXQUFqQztBQUNBLGVBQU9SLEtBQUssQ0FBQ1EsV0FBYjtBQUNBbEIsUUFBQUEsTUFBTSxDQUFDQyxNQUFQLENBQWNILEdBQUcsQ0FBQ0MsSUFBbEIsRUFBd0JXLEtBQXhCO0FBQ0QsT0FMRCxNQUtPO0FBQ0xaLFFBQUFBLEdBQUcsQ0FBQ04sTUFBSixHQUFhLEdBQWI7QUFDQU0sUUFBQUEsR0FBRyxDQUFDQyxJQUFKLEdBQVcsSUFBSVIsS0FBSixDQUFVLEdBQVYsRUFBZSw4QkFBZixDQUFYO0FBQ0Q7QUFDRixLQVZELE1BVU87QUFDTE8sTUFBQUEsR0FBRyxDQUFDTixNQUFKLEdBQWEsR0FBYjtBQUNBTSxNQUFBQSxHQUFHLENBQUNDLElBQUosR0FBVyxJQUFJUixLQUFKLENBQVUsR0FBVixFQUFlLFdBQWYsQ0FBWDtBQUNEOztBQUNETSxJQUFBQSxHQUFHLENBQUNMLE1BQUosQ0FBV00sR0FBRyxDQUFDTixNQUFmLEVBQXVCZSxJQUF2QixDQUE0QlQsR0FBRyxDQUFDQyxJQUFoQztBQUNEO0FBOUJZLENBQWY7ZUFrQ2VMLE0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxBTUFFQ0hJXFxEb2N1bWVudHNcXEFuZGVsYVxcQXV0byBNYXJ0XFxBdXRvTWFydFxcU2VydmVyXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdG9yYWdlIGZyb20gJy4uL3N0b3JhZ2UnO1xyXG5cclxuY2xhc3MgRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKHN0YXR1cywgbWVzc2FnZSkge1xyXG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XHJcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgb3JkZXJzID0ge1xyXG4gIGNyZWF0ZU5ld09yZGVyOiAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IFJlcyA9IHtcclxuICAgICAgc3RhdHVzOiAyMDEsXHJcbiAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24oeyBjcmVhdGVkX29uOiBuZXcgRGF0ZSgpIH0sIHJlcS5ib2R5KSxcclxuICAgIH07XHJcbiAgICBzdG9yYWdlLm9yZGVycy5wdXNoKFJlcy5kYXRhKTtcclxuICAgIHJlcy5zdGF0dXMoUmVzLnN0YXR1cykuanNvbihSZXMuZGF0YSk7XHJcbiAgfSxcclxuICB1cGRhdGVPcmRlclByaWNlOiAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IFJlcyA9IHtcclxuICAgICAgc3RhdHVzOiAyMDIsXHJcbiAgICAgIGRhdGE6IHsgbGFzdF9tb2RpZmllZDogbmV3IERhdGUoKSB9LFxyXG4gICAgfTtcclxuICAgIGNvbnN0IG9yZGVyID0gc3RvcmFnZS5vcmRlcnMuZmluZChPcmRlciA9PiBPcmRlci5pZCA9PT0gcGFyc2VJbnQocmVxLnBhcmFtcy5vcmRlcklkLCAxMCkpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIGlmIChvcmRlci5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xyXG4gICAgICAgIG9yZGVyLm9sZF9wcmljZV9vZmZlciA9IG9yZGVyLnByaWNlX29mZmVyO1xyXG4gICAgICAgIG9yZGVyLm5ld19wcmljZV9vZmZlciA9IHJlcS5ib2R5LnByaWNlX29mZmVyO1xyXG4gICAgICAgIGRlbGV0ZSBvcmRlci5wcmljZV9vZmZlcjtcclxuICAgICAgICBPYmplY3QuYXNzaWduKFJlcy5kYXRhLCBvcmRlcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgUmVzLnN0YXR1cyA9IDQwNTtcclxuICAgICAgICBSZXMuZGF0YSA9IG5ldyBFcnJvcig0MDUsICdUaGlzIG9yZGVyIGNhbm5vdCBiZSBjaGFuZ2VkJyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFJlcy5zdGF0dXMgPSA0MDQ7XHJcbiAgICAgIFJlcy5kYXRhID0gbmV3IEVycm9yKDQwNCwgJ25vdCBmb3VuZCcpO1xyXG4gICAgfVxyXG4gICAgcmVzLnN0YXR1cyhSZXMuc3RhdHVzKS5qc29uKFJlcy5kYXRhKTtcclxuICB9LFxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG9yZGVycztcclxuIl19