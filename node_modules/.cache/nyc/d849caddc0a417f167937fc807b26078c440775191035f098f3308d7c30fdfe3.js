"use strict";var cov_2jv1tsfwm1=function(){var path="C:\\Users\\AMAECHI\\Documents\\Andela\\Auto Mart\\AutoMart\\controllers\\orders.js";var hash="be72051a1e5eb9ccf8f6a99bdad7b684fd212ede";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\AMAECHI\\Documents\\Andela\\Auto Mart\\AutoMart\\controllers\\orders.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:15},end:{line:8,column:60}},"3":{start:{line:10,column:39},end:{line:10,column:95}},"4":{start:{line:12,column:50},end:{line:12,column:151}},"5":{start:{line:12,column:92},end:{line:12,column:149}},"6":{start:{line:14,column:12},end:{line:19,column:1}},"7":{start:{line:15,column:2},end:{line:15,column:31}},"8":{start:{line:17,column:2},end:{line:17,column:23}},"9":{start:{line:18,column:2},end:{line:18,column:25}},"10":{start:{line:21,column:13},end:{line:63,column:1}},"11":{start:{line:23,column:14},end:{line:28,column:5}},"12":{start:{line:30,column:4},end:{line:30,column:46}},"13":{start:{line:32,column:4},end:{line:32,column:42}},"14":{start:{line:35,column:14},end:{line:40,column:5}},"15":{start:{line:42,column:16},end:{line:44,column:6}},"16":{start:{line:43,column:6},end:{line:43,column:59}},"17":{start:{line:46,column:4},end:{line:59,column:5}},"18":{start:{line:47,column:6},end:{line:55,column:7}},"19":{start:{line:48,column:8},end:{line:48,column:50}},"20":{start:{line:49,column:8},end:{line:49,column:53}},"21":{start:{line:50,column:8},end:{line:50,column:33}},"22":{start:{line:51,column:8},end:{line:51,column:39}},"23":{start:{line:53,column:8},end:{line:53,column:25}},"24":{start:{line:54,column:8},end:{line:54,column:66}},"25":{start:{line:57,column:6},end:{line:57,column:23}},"26":{start:{line:58,column:6},end:{line:58,column:45}},"27":{start:{line:61,column:4},end:{line:61,column:42}},"28":{start:{line:64,column:15},end:{line:64,column:21}},"29":{start:{line:65,column:0},end:{line:65,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:10,column:9},end:{line:10,column:31}},loc:{start:{line:10,column:37},end:{line:10,column:97}},line:10},"1":{name:"_classCallCheck",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:48},end:{line:12,column:153}},line:12},"2":{name:"Error",decl:{start:{line:14,column:21},end:{line:14,column:26}},loc:{start:{line:14,column:44},end:{line:19,column:1}},line:14},"3":{name:"createNewOrder",decl:{start:{line:22,column:27},end:{line:22,column:41}},loc:{start:{line:22,column:52},end:{line:33,column:3}},line:22},"4":{name:"updateOrderPrice",decl:{start:{line:34,column:29},end:{line:34,column:45}},loc:{start:{line:34,column:56},end:{line:62,column:3}},line:34},"5":{name:"(anonymous_5)",decl:{start:{line:42,column:48},end:{line:42,column:49}},loc:{start:{line:42,column:65},end:{line:44,column:5}},line:42}},branchMap:{"0":{loc:{start:{line:10,column:46},end:{line:10,column:94}},type:"cond-expr",locations:[{start:{line:10,column:70},end:{line:10,column:73}},{start:{line:10,column:76},end:{line:10,column:94}}],line:10},"1":{loc:{start:{line:10,column:46},end:{line:10,column:67}},type:"binary-expr",locations:[{start:{line:10,column:46},end:{line:10,column:49}},{start:{line:10,column:53},end:{line:10,column:67}}],line:10},"2":{loc:{start:{line:12,column:50},end:{line:12,column:151}},type:"if",locations:[{start:{line:12,column:50},end:{line:12,column:151}},{start:{line:12,column:50},end:{line:12,column:151}}],line:12},"3":{loc:{start:{line:46,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:59,column:5}},{start:{line:46,column:4},end:{line:59,column:5}}],line:46},"4":{loc:{start:{line:47,column:6},end:{line:55,column:7}},type:"if",locations:[{start:{line:47,column:6},end:{line:55,column:7}},{start:{line:47,column:6},end:{line:55,column:7}}],line:47}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"be72051a1e5eb9ccf8f6a99bdad7b684fd212ede"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_2jv1tsfwm1.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2jv1tsfwm1.s[1]++;exports["default"]=void 0;var _storage=(cov_2jv1tsfwm1.s[2]++,_interopRequireDefault(require("../storage")));function _interopRequireDefault(obj){cov_2jv1tsfwm1.f[0]++;cov_2jv1tsfwm1.s[3]++;return(cov_2jv1tsfwm1.b[1][0]++,obj)&&(cov_2jv1tsfwm1.b[1][1]++,obj.__esModule)?(cov_2jv1tsfwm1.b[0][0]++,obj):(cov_2jv1tsfwm1.b[0][1]++,{"default":obj});}function _classCallCheck(instance,Constructor){cov_2jv1tsfwm1.f[1]++;cov_2jv1tsfwm1.s[4]++;if(!(instance instanceof Constructor)){cov_2jv1tsfwm1.b[2][0]++;cov_2jv1tsfwm1.s[5]++;throw new TypeError("Cannot call a class as a function");}else{cov_2jv1tsfwm1.b[2][1]++;}}cov_2jv1tsfwm1.s[6]++;var Error=function Error(status,message){cov_2jv1tsfwm1.f[2]++;cov_2jv1tsfwm1.s[7]++;_classCallCheck(this,Error);cov_2jv1tsfwm1.s[8]++;this.status=status;cov_2jv1tsfwm1.s[9]++;this.message=message;};var orders=(cov_2jv1tsfwm1.s[10]++,{createNewOrder:function createNewOrder(req,res){cov_2jv1tsfwm1.f[3]++;var Res=(cov_2jv1tsfwm1.s[11]++,{status:201,data:Object.assign({created_on:new Date()},req.body)});cov_2jv1tsfwm1.s[12]++;_storage["default"].orders.push(Res.data);cov_2jv1tsfwm1.s[13]++;res.status(Res.status).json(Res.data);},updateOrderPrice:function updateOrderPrice(req,res){cov_2jv1tsfwm1.f[4]++;var Res=(cov_2jv1tsfwm1.s[14]++,{status:202,data:{last_modified:new Date()}});var order=(cov_2jv1tsfwm1.s[15]++,_storage["default"].orders.find(function(Order){cov_2jv1tsfwm1.f[5]++;cov_2jv1tsfwm1.s[16]++;return Order.id===parseInt(req.params.orderId,10);}));cov_2jv1tsfwm1.s[17]++;if(order){cov_2jv1tsfwm1.b[3][0]++;cov_2jv1tsfwm1.s[18]++;if(order.status==='pending'){cov_2jv1tsfwm1.b[4][0]++;cov_2jv1tsfwm1.s[19]++;order.old_price_offer=order.price_offer;cov_2jv1tsfwm1.s[20]++;order.new_price_offer=req.body.price_offer;cov_2jv1tsfwm1.s[21]++;delete order.price_offer;cov_2jv1tsfwm1.s[22]++;Object.assign(Res.data,order);}else{cov_2jv1tsfwm1.b[4][1]++;cov_2jv1tsfwm1.s[23]++;Res.status=405;cov_2jv1tsfwm1.s[24]++;Res.data=new Error(405,'This order cannot be changed');}}else{cov_2jv1tsfwm1.b[3][1]++;cov_2jv1tsfwm1.s[25]++;Res.status=404;cov_2jv1tsfwm1.s[26]++;Res.data=new Error(404,'not found');}cov_2jv1tsfwm1.s[27]++;res.status(Res.status).json(Res.data);}});var _default=(cov_2jv1tsfwm1.s[28]++,orders);cov_2jv1tsfwm1.s[29]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVycy5qcyJdLCJuYW1lcyI6WyJFcnJvciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJvcmRlcnMiLCJjcmVhdGVOZXdPcmRlciIsInJlcSIsInJlcyIsIlJlcyIsImRhdGEiLCJPYmplY3QiLCJhc3NpZ24iLCJjcmVhdGVkX29uIiwiRGF0ZSIsImJvZHkiLCJzdG9yYWdlIiwicHVzaCIsImpzb24iLCJ1cGRhdGVPcmRlclByaWNlIiwibGFzdF9tb2RpZmllZCIsIm9yZGVyIiwiZmluZCIsIk9yZGVyIiwiaWQiLCJwYXJzZUludCIsInBhcmFtcyIsIm9yZGVySWQiLCJvbGRfcHJpY2Vfb2ZmZXIiLCJwcmljZV9vZmZlciIsIm5ld19wcmljZV9vZmZlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7SUFFTUEsSyxHQUNKLGVBQVlDLE1BQVosRUFBb0JDLE9BQXBCLEVBQTZCO0FBQUE7O0FBQzNCLE9BQUtELE1BQUwsR0FBY0EsTUFBZDtBQUNBLE9BQUtDLE9BQUwsR0FBZUEsT0FBZjtBQUNELEM7O0FBR0gsSUFBTUMsTUFBTSxHQUFHO0FBQ2JDLEVBQUFBLGNBQWMsRUFBRSx3QkFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDNUIsUUFBTUMsR0FBRyxHQUFHO0FBQ1ZOLE1BQUFBLE1BQU0sRUFBRSxHQURFO0FBRVZPLE1BQUFBLElBQUksRUFBRUMsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFBRUMsUUFBQUEsVUFBVSxFQUFFLElBQUlDLElBQUo7QUFBZCxPQUFkLEVBQTBDUCxHQUFHLENBQUNRLElBQTlDO0FBRkksS0FBWjs7QUFJQUMsd0JBQVFYLE1BQVIsQ0FBZVksSUFBZixDQUFvQlIsR0FBRyxDQUFDQyxJQUF4Qjs7QUFDQUYsSUFBQUEsR0FBRyxDQUFDTCxNQUFKLENBQVdNLEdBQUcsQ0FBQ04sTUFBZixFQUF1QmUsSUFBdkIsQ0FBNEJULEdBQUcsQ0FBQ0MsSUFBaEM7QUFDRCxHQVJZO0FBU2JTLEVBQUFBLGdCQUFnQixFQUFFLDBCQUFDWixHQUFELEVBQU1DLEdBQU4sRUFBYztBQUM5QixRQUFNQyxHQUFHLEdBQUc7QUFDVk4sTUFBQUEsTUFBTSxFQUFFLEdBREU7QUFFVk8sTUFBQUEsSUFBSSxFQUFFO0FBQUVVLFFBQUFBLGFBQWEsRUFBRSxJQUFJTixJQUFKO0FBQWpCO0FBRkksS0FBWjs7QUFJQSxRQUFNTyxLQUFLLEdBQUdMLG9CQUFRWCxNQUFSLENBQWVpQixJQUFmLENBQW9CLFVBQUFDLEtBQUs7QUFBQSxhQUFJQSxLQUFLLENBQUNDLEVBQU4sS0FBYUMsUUFBUSxDQUFDbEIsR0FBRyxDQUFDbUIsTUFBSixDQUFXQyxPQUFaLEVBQXFCLEVBQXJCLENBQXpCO0FBQUEsS0FBekIsQ0FBZDs7QUFDQSxRQUFJTixLQUFKLEVBQVc7QUFDVCxVQUFJQSxLQUFLLENBQUNsQixNQUFOLEtBQWlCLFNBQXJCLEVBQWdDO0FBQzlCa0IsUUFBQUEsS0FBSyxDQUFDTyxlQUFOLEdBQXdCUCxLQUFLLENBQUNRLFdBQTlCO0FBQ0FSLFFBQUFBLEtBQUssQ0FBQ1MsZUFBTixHQUF3QnZCLEdBQUcsQ0FBQ1EsSUFBSixDQUFTYyxXQUFqQztBQUNBLGVBQU9SLEtBQUssQ0FBQ1EsV0FBYjtBQUNBbEIsUUFBQUEsTUFBTSxDQUFDQyxNQUFQLENBQWNILEdBQUcsQ0FBQ0MsSUFBbEIsRUFBd0JXLEtBQXhCO0FBQ0QsT0FMRCxNQUtPO0FBQ0xaLFFBQUFBLEdBQUcsQ0FBQ04sTUFBSixHQUFhLEdBQWI7QUFDQU0sUUFBQUEsR0FBRyxDQUFDQyxJQUFKLEdBQVcsSUFBSVIsS0FBSixDQUFVLEdBQVYsRUFBZSw4QkFBZixDQUFYO0FBQ0Q7QUFDRixLQVZELE1BVU87QUFDTE8sTUFBQUEsR0FBRyxDQUFDTixNQUFKLEdBQWEsR0FBYjtBQUNBTSxNQUFBQSxHQUFHLENBQUNDLElBQUosR0FBVyxJQUFJUixLQUFKLENBQVUsR0FBVixFQUFlLFdBQWYsQ0FBWDtBQUNEOztBQUNETSxJQUFBQSxHQUFHLENBQUNMLE1BQUosQ0FBV00sR0FBRyxDQUFDTixNQUFmLEVBQXVCZSxJQUF2QixDQUE0QlQsR0FBRyxDQUFDQyxJQUFoQztBQUNEO0FBOUJZLENBQWY7ZUFrQ2VMLE0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxBTUFFQ0hJXFxEb2N1bWVudHNcXEFuZGVsYVxcQXV0byBNYXJ0XFxBdXRvTWFydFxcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3RvcmFnZSBmcm9tICcuLi9zdG9yYWdlJztcclxuXHJcbmNsYXNzIEVycm9yIHtcclxuICBjb25zdHJ1Y3RvcihzdGF0dXMsIG1lc3NhZ2UpIHtcclxuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xyXG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IG9yZGVycyA9IHtcclxuICBjcmVhdGVOZXdPcmRlcjogKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBSZXMgPSB7XHJcbiAgICAgIHN0YXR1czogMjAxLFxyXG4gICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHsgY3JlYXRlZF9vbjogbmV3IERhdGUoKSB9LCByZXEuYm9keSksXHJcbiAgICB9O1xyXG4gICAgc3RvcmFnZS5vcmRlcnMucHVzaChSZXMuZGF0YSk7XHJcbiAgICByZXMuc3RhdHVzKFJlcy5zdGF0dXMpLmpzb24oUmVzLmRhdGEpO1xyXG4gIH0sXHJcbiAgdXBkYXRlT3JkZXJQcmljZTogKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBSZXMgPSB7XHJcbiAgICAgIHN0YXR1czogMjAyLFxyXG4gICAgICBkYXRhOiB7IGxhc3RfbW9kaWZpZWQ6IG5ldyBEYXRlKCkgfSxcclxuICAgIH07XHJcbiAgICBjb25zdCBvcmRlciA9IHN0b3JhZ2Uub3JkZXJzLmZpbmQoT3JkZXIgPT4gT3JkZXIuaWQgPT09IHBhcnNlSW50KHJlcS5wYXJhbXMub3JkZXJJZCwgMTApKTtcclxuICAgIGlmIChvcmRlcikge1xyXG4gICAgICBpZiAob3JkZXIuc3RhdHVzID09PSAncGVuZGluZycpIHtcclxuICAgICAgICBvcmRlci5vbGRfcHJpY2Vfb2ZmZXIgPSBvcmRlci5wcmljZV9vZmZlcjtcclxuICAgICAgICBvcmRlci5uZXdfcHJpY2Vfb2ZmZXIgPSByZXEuYm9keS5wcmljZV9vZmZlcjtcclxuICAgICAgICBkZWxldGUgb3JkZXIucHJpY2Vfb2ZmZXI7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihSZXMuZGF0YSwgb3JkZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIFJlcy5zdGF0dXMgPSA0MDU7XHJcbiAgICAgICAgUmVzLmRhdGEgPSBuZXcgRXJyb3IoNDA1LCAnVGhpcyBvcmRlciBjYW5ub3QgYmUgY2hhbmdlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBSZXMuc3RhdHVzID0gNDA0O1xyXG4gICAgICBSZXMuZGF0YSA9IG5ldyBFcnJvcig0MDQsICdub3QgZm91bmQnKTtcclxuICAgIH1cclxuICAgIHJlcy5zdGF0dXMoUmVzLnN0YXR1cykuanNvbihSZXMuZGF0YSk7XHJcbiAgfSxcclxufTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBvcmRlcnM7XHJcbiJdfQ==